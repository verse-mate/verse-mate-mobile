---
appId: com.versemate.mobile
name: Bible View Switcher
description: Tests view switching between Bible and Explanations
tags:
  - critical
  - view-switcher

---

# Bible View Switcher E2E Test Flow
# Tests the Bible vs Explanations view switching functionality
#
# Test Scenarios:
# 1. Basic view switching (Bible -> Explanations -> Bible)
# 2. Tab persistence across view switches
# 3. Tab persistence across chapter changes
# 4. Chapter selector trigger from chapter text
# 5. Visual states (icon colors, tab visibility)

- launchApp:
    appId: com.versemate.mobile
    clearState: true

- assertVisible: "Genesis 1"

# Scenario 1: Basic View Switching
- tapOn:
    id: "explanations-view-icon"
- assertVisible:
    id: "chapter-content-tabs"
- assertVisible:
    id: "tab-summary"
- tapOn:
    id: "bible-view-icon"
- assertNotVisible:
    id: "chapter-content-tabs"

# Scenario 2: Tab Persistence Across View Switches
- tapOn:
    id: "explanations-view-icon"
- assertVisible:
    id: "chapter-content-tabs"
- tapOn:
    id: "tab-detailed"
- assertVisible:
    text: "Detailed"
- tapOn:
    id: "bible-view-icon"
- assertNotVisible:
    id: "chapter-content-tabs"
- tapOn:
    id: "explanations-view-icon"
- assertVisible:
    id: "chapter-content-tabs"
# Detailed tab should still be selected
- assertVisible:
    text: "Detailed"

# Scenario 3: Tab Persistence Across Chapter Changes
- tapOn:
    id: "tab-byline"
- assertVisible:
    text: "By Line"
- tapOn:
    id: "chapter-selector-button"
- assertVisible:
    text: "Select Chapter"
- tapOn:
    text: "Genesis 2"
- assertVisible: "Genesis 2"
# By Line tab should still be selected
- assertVisible:
    id: "chapter-content-tabs"
- assertVisible:
    text: "By Line"

# Scenario 4: Chapter Selector Trigger
- tapOn:
    id: "chapter-selector-button"
- assertVisible:
    text: "Select Chapter"
- tapOn:
    text: "Genesis 1"
- assertVisible: "Genesis 1"

# Scenario 5: Default State After Fresh Navigation
- tapOn:
    id: "bible-view-icon"
- assertNotVisible:
    id: "chapter-content-tabs"
- tapOn:
    id: "chapter-selector-button"
- assertVisible:
    text: "Select Chapter"
- tapOn:
    text: "Exodus 1"
- assertVisible: "Exodus 1"
# Should still be in Bible view (tabs hidden)
- assertNotVisible:
    id: "chapter-content-tabs"
