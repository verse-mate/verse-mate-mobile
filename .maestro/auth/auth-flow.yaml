---
appId: org.versemate.app
name: Authentication Flow
description: Tests authentication UI navigation including signup and login screens
tags:
  - auth
  - user-flow

---

# Authentication UI Navigation E2E Test
#
# This flow tests authentication UI accessibility and navigation:
# 1. Navigate to Login via hamburger menu
# 2. Verify login form elements
# 3. Navigate to Signup via link
# 4. Verify signup form elements
#
# Note: This test verifies UI navigation only.
# Actual signup/login would require test credentials and API connectivity.

# ============================================
# Test Setup: Launch App
# ============================================

- launchApp:
    clearState: true
    appId: org.versemate.app

# For development builds: dismiss dev menu if shown
- tapOn:
    text: "http://localhost:8081"
    optional: true

- tapOn:
    text: "Continue"
    optional: true

- tapOn:
    point: "50%,15%"
    optional: true

# Handle onboarding screen if shown
- tapOn:
    text: "Skip"
    optional: true

- waitForAnimationToEnd


# Wait for app to fully load
- extendedWaitUntil:
    visible:
      id: "chapter-selector-button"
    timeout: 30000

# ============================================
# Test 1: Navigate to Login via Hamburger Menu
# ============================================

# Open hamburger menu
- tapOn:
    id: "hamburger-menu-button"

# Wait for menu to open
- extendedWaitUntil:
    visible:
      id: "hamburger-menu"
    timeout: 5000

# Verify Login menu item is visible (shows when not authenticated)
- assertVisible:
    id: "menu-item-login"

# Tap on Login menu item
- tapOn:
    id: "menu-item-login"

# Wait for navigation
- waitForAnimationToEnd


# Verify login screen is visible
- assertVisible:
    text: "Welcome back"

# Verify login form fields are present
- assertVisible:
    id: "login-email"

- assertVisible:
    id: "login-password"

# Verify submit button is present
- assertVisible:
    id: "login-submit"

# ============================================
# Test 2: Navigate to Signup via Link
# ============================================

# Tap on "Don't have an account? Sign up" link
- tapOn:
    id: "login-signup-link"

# Wait for navigation
- waitForAnimationToEnd


# Verify signup screen is visible
- assertVisible:
    text: "Create Account"

# Verify signup form fields are present
- assertVisible:
    id: "signup-first-name"

- assertVisible:
    id: "signup-last-name"

- assertVisible:
    id: "signup-email"

- assertVisible:
    id: "signup-password"

# Verify submit button is present
- assertVisible:
    id: "signup-submit"

# ============================================
# Test 3: Navigate Back to Login
# ============================================

# Tap on "Already have an account? Login" link
- tapOn:
    id: "signup-login-link"

# Wait for navigation
- waitForAnimationToEnd


# Verify login screen is visible
- assertVisible:
    text: "Welcome back"

# ============================================
# Test Complete
# ============================================

# Note: Navigation back to main app not tested here as it requires
# multiple back presses through the auth navigation stack.
