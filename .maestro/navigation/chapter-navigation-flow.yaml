---
appId: org.versemate.app
name: Chapter Navigation Flow
description: Tests chapter navigation using floating action buttons
tags:
  - critical
  - navigation
  - bible

---

# Chapter Navigation E2E Test
#
# This flow tests chapter navigation using floating action buttons:
# - Next chapter button
# - Previous chapter button
#
# Note: FABs auto-hide after scrolling, so we tap the screen to show them

- runFlow: ../shared/setup.yaml

# Wait for app to load
- extendedWaitUntil:
    visible:
      id: "chapter-selector-button"
    timeout: 30000

# Verify we start at Genesis 1
- assertVisible:
    text: "Genesis 1"

# Tap screen center to ensure FABs are visible (they auto-hide)
- tapOn:
    point: "50%,50%"

- waitForAnimationToEnd


# Test next chapter button -> Genesis 2
- tapOn:
    id: "next-chapter-button"

- waitForAnimationToEnd


# Verify chapter selector still visible
- assertVisible:
    id: "chapter-selector-button"

# Verify we're on Genesis 2
- assertVisible:
    text: "Genesis 2"

# Tap screen to show FABs again
- tapOn:
    point: "50%,50%"

- waitForAnimationToEnd


# Test next chapter again -> Genesis 3
- tapOn:
    id: "next-chapter-button"

- waitForAnimationToEnd


# Verify we're on Genesis 3
- assertVisible:
    text: "Genesis 3"

# Tap screen to show FABs
- tapOn:
    point: "50%,50%"

- waitForAnimationToEnd


# Test previous chapter -> Genesis 2
- tapOn:
    id: "previous-chapter-button"

- waitForAnimationToEnd


# Verify we're on Genesis 2
- assertVisible:
    text: "Genesis 2"

# Tap screen to show FABs
- tapOn:
    point: "50%,50%"

- waitForAnimationToEnd


# Test previous chapter again -> Genesis 1
- tapOn:
    id: "previous-chapter-button"

- waitForAnimationToEnd


# Verify we're back on Genesis 1
- assertVisible:
    text: "Genesis 1"
