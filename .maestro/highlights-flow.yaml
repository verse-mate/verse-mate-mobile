---
appId: org.versemate.app
name: Highlights Feature Flow (Unauthenticated)
description: Tests highlights feature navigation for unauthenticated users
tags:
  - highlights
  - user-flow

---

# Highlights Feature E2E Test Flow (Unauthenticated)
#
# This flow tests highlights feature navigation for unauthenticated users:
# 1. Navigate to highlights list via hamburger menu
# 2. Verify login prompt is shown
# 3. Navigate back to chapter screen
#
# Note: Full highlights create/edit/delete testing requires authentication.

# ============================================
# Test Setup: Launch App
# ============================================

- launchApp:
    appId: org.versemate.app

# For development builds: dismiss dev menu if shown
- tapOn:
    text: "http://localhost:8081"
    optional: true

- tapOn:
    text: "Continue"
    optional: true

- tapOn:
    point: "50%,15%"
    optional: true

# Wait for app to fully load
- extendedWaitUntil:
    visible:
      id: "chapter-selector-button"
    timeout: 30000

# ============================================
# Test 1: Navigate to Highlights via Hamburger Menu
# ============================================

# Open hamburger menu
- tapOn:
    id: "hamburger-menu-button"

# Wait for menu to open
- extendedWaitUntil:
    visible:
      id: "hamburger-menu"
    timeout: 5000

# Tap on Highlights menu item
- tapOn:
    id: "menu-item-highlights"

# Wait for navigation
- waitForAnimationToEnd

# ============================================
# Test 2: Verify Login Prompt
# ============================================

# Verify we're on highlights screen with login prompt
- assertVisible:
    text: "Please login to view your highlights"

# Verify login button is present
- assertVisible:
    id: "highlights-login-button"

# Verify back button is visible
- assertVisible:
    id: "highlights-back-button"

# ============================================
# Test 3: Navigate Back to Chapter
# ============================================

# Go back to chapter
- tapOn:
    id: "highlights-back-button"

# Wait for navigation
- waitForAnimationToEnd

# Verify we're back on chapter screen
- assertVisible:
    id: "chapter-selector-button"

# ============================================
# Test Complete
# ============================================
