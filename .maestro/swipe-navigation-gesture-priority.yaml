---
appId: com.versemate.mobile
name: Swipe Navigation - Gesture Priority
description: Tests that vertical scrolling doesn't trigger horizontal navigation
tags:
  - swipe
  - navigation
  - gestures
  - scrolling

---

# Gesture Priority Test
#
# This flow tests gesture handling:
# - Vertical scrolling should not trigger horizontal chapter navigation
# - Only clear horizontal swipes should change chapters
# - Mixed gestures should favor the dominant direction
#
# User Journey:
# 1. Launch app to Genesis 1
# 2. Scroll down vertically through content
# 3. Verify still on Genesis 1 (no chapter change)
# 4. Perform horizontal swipe
# 5. Verify chapter changed to Genesis 2

- launchApp:
    appId: com.versemate.mobile
    clearState: true

# Wait for Genesis 1 to load
- assertVisible: "Genesis 1"

# Verify Genesis 1 content is loaded
- assertVisible:
    text: "The Creation"

# Scroll down vertically to read content
# This should NOT trigger horizontal navigation
- scroll:
    direction: DOWN

# Verify still on Genesis 1 after vertical scroll
- assertVisible: "Genesis 1"

# Scroll down more
- scroll:
    direction: DOWN

# Still should be on Genesis 1
- assertVisible: "Genesis 1"

# Scroll back up
- scroll:
    direction: UP

# Still on Genesis 1
- assertVisible: "Genesis 1"

# Now perform a clear horizontal swipe left
# This SHOULD trigger navigation
- swipe:
    direction: LEFT
    duration: 500

- waitForAnimationToEnd

# Should now be on Genesis 2 (navigation worked)
- assertVisible: "Genesis 2"

# Scroll down on Genesis 2
- scroll:
    direction: DOWN

# Should still be on Genesis 2 after scroll
- assertVisible: "Genesis 2"

# Swipe right to go back to Genesis 1
- swipe:
    direction: RIGHT
    duration: 500

- waitForAnimationToEnd

# Should be back on Genesis 1
- assertVisible: "Genesis 1"

# Final check: rapid vertical scrolling shouldn't cause navigation
- scroll:
    direction: DOWN

- scroll:
    direction: DOWN

- scroll:
    direction: UP

- scroll:
    direction: UP

# Should still be on Genesis 1 after rapid scrolling
- assertVisible: "Genesis 1"
