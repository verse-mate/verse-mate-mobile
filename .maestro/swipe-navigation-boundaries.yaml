---
appId: org.versemate.mobile
name: Swipe Navigation - Boundaries
description: Tests that swipe navigation respects Bible boundaries (Genesis 1)
tags:
  - swipe
  - navigation
  - boundaries

---

# Boundary Testing for Swipe Navigation
#
# This flow tests navigation boundaries:
# - At Genesis 1: right swipe should not navigate (stay on Genesis 1)
# - Verify we can still swipe left to go to Genesis 2
#
# Note: Testing Revelation 22 boundary is complex and better tested manually
# due to the navigation modal behavior.

- launchApp:
    appId: org.versemate.mobile

# For development builds: dismiss dev menu if shown
- tapOn:
    text: "http://localhost:8081"
    optional: true

- tapOn:
    text: "Continue"
    optional: true

- tapOn:
    point: "50%,15%"
    optional: true

# Wait for app to fully load
- extendedWaitUntil:
    visible:
      id: "chapter-selector-button"
    timeout: 30000

# ============================================
# Test 1: Genesis 1 Left Boundary
# ============================================

# First ensure we're on Genesis 1 by opening modal and navigating there
- tapOn:
    id: "chapter-selector-button"

# Wait for modal
- extendedWaitUntil:
    visible:
      id: "bible-navigation-modal"
    timeout: 5000

# Go to Old Testament
- tapOn:
    id: "tab-old-testament"

- waitForAnimationToEnd

# Select Genesis
- tapOn:
    id: "book-item-genesis"

- waitForAnimationToEnd

# Select chapter 1
- tapOn:
    id: "chapter-1"

# Wait for Genesis 1 to load
- waitForAnimationToEnd

# Modal should close
- extendedWaitUntil:
    notVisible:
      id: "bible-navigation-modal"
    timeout: 5000

# Verify we're on Genesis 1
- assertVisible:
    id: "chapter-selector-button"

# ============================================
# Test 2: Try to Swipe Right (Should Stay on Genesis 1)
# ============================================

# Try to swipe right from Genesis 1 - should not navigate
- swipe:
    direction: RIGHT
    duration: 500

- waitForAnimationToEnd

# Should still be on a chapter screen (we cannot go before Genesis 1)
- assertVisible:
    id: "chapter-selector-button"

# ============================================
# Test 3: Verify Swipe Left Still Works
# ============================================

# Swipe left to go to Genesis 2
- swipe:
    direction: LEFT
    duration: 500

- waitForAnimationToEnd

# Should still have chapter selector visible (navigated to Genesis 2)
- assertVisible:
    id: "chapter-selector-button"

# ============================================
# Test Complete
# ============================================
