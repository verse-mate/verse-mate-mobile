---
appId: org.versemate.app
name: Swipe Navigation - Circular Boundaries
description: Tests that swipe navigation wraps around Bible boundaries (Genesis 1 <-> Revelation 22)
tags:
  - swipe
  - navigation
  - boundaries
  - circular

---

# Circular Navigation Boundary Testing
#
# Tests that the Bible navigation is circular (no boundaries):
# - At Genesis 1: swipe right -> Revelation 22
# - At Revelation 22: swipe left -> Genesis 1
#
# This enables seamless reading through the entire Bible.

- launchApp:
    appId: org.versemate.app

# For development builds: dismiss dev menu if shown
- tapOn:
    text: "http://localhost:8081"
    optional: true

- tapOn:
    text: "Continue"
    optional: true

- tapOn:
    point: "50%,15%"
    optional: true

# Wait for app to fully load
- extendedWaitUntil:
    visible:
      id: "chapter-selector-button"
    timeout: 30000

# ============================================
# Test 1: Genesis 1 -> Revelation 22 (Backward Wrap)
# ============================================

# First ensure we're on Genesis 1 by opening modal and navigating there
- tapOn:
    id: "chapter-selector-button"

# Wait for modal
- extendedWaitUntil:
    visible:
      id: "bible-navigation-modal"
    timeout: 5000

# Go to Old Testament
- tapOn:
    id: "tab-old-testament"

- waitForAnimationToEnd

# Select Genesis
- tapOn:
    id: "book-item-genesis"

- waitForAnimationToEnd

# Select chapter 1
- tapOn:
    id: "chapter-1"

# Wait for Genesis 1 to load
- waitForAnimationToEnd

# Modal should close
- extendedWaitUntil:
    notVisible:
      id: "bible-navigation-modal"
    timeout: 5000

# Verify we're on Genesis 1
- assertVisible:
    text: "Genesis 1"

# Swipe RIGHT from Genesis 1 - should wrap to Revelation 22
- swipe:
    direction: RIGHT
    duration: 500

- waitForAnimationToEnd

# Verify circular navigation: should now be on Revelation 22
- assertVisible:
    text: "Revelation 22"

# ============================================
# Test 2: Revelation 22 -> Genesis 1 (Forward Wrap)
# ============================================

# Swipe LEFT from Revelation 22 - should wrap to Genesis 1
- swipe:
    direction: LEFT
    duration: 500

- waitForAnimationToEnd

# Verify circular navigation: should now be back on Genesis 1
- assertVisible:
    text: "Genesis 1"

# ============================================
# Test 3: Navigate to Revelation 22 via Modal, verify backward wrap
# ============================================

- tapOn:
    id: "chapter-selector-button"

- extendedWaitUntil:
    visible:
      id: "bible-navigation-modal"
    timeout: 5000

- tapOn:
    id: "tab-new-testament"

- waitForAnimationToEnd

# Scroll down to find Revelation
- scrollUntilVisible:
    element:
      id: "book-item-revelation"

- tapOn:
    id: "book-item-revelation"

- waitForAnimationToEnd

- tapOn:
    id: "chapter-22"

- waitForAnimationToEnd

- extendedWaitUntil:
    notVisible:
      id: "bible-navigation-modal"
    timeout: 5000

# Verify we're on Revelation 22
- assertVisible:
    text: "Revelation 22"

# Swipe LEFT (forward) - should wrap to Genesis 1
- swipe:
    direction: LEFT
    duration: 500

- waitForAnimationToEnd

# Verify circular navigation to Genesis 1
- assertVisible:
    text: "Genesis 1"

# ============================================
# Test Complete - Circular Navigation Verified
# ============================================
